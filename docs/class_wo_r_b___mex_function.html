<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>World of Rigid Bodies (WoRB): WoRB_MexFunction Class Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">World of Rigid Bodies (WoRB)
   
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.8.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="classes.html"><span>Data&#160;Structure&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Data&#160;Fields</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('class_wo_r_b___mex_function.html','');
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a>  </div>
  <div class="headertitle">
<div class="title">WoRB_MexFunction Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Represents <a class="el" href="namespace_wo_r_b.html">WoRB</a> test-bed that can be initialized from <code>mexFunction</code> arguments.  
 <a href="class_wo_r_b___mex_function.html#details">More...</a></p>
<div class="dynheader">
Inheritance diagram for WoRB_MexFunction:</div>
<div class="dyncontent">
<div class="center"><img src="class_wo_r_b___mex_function__inherit__graph.png" border="0" usemap="#_wo_r_b___mex_function_inherit__map" alt="Inheritance graph"/></div>
<map name="_wo_r_b___mex_function_inherit__map" id="_wo_r_b___mex_function_inherit__map">
<area shape="rect" id="node2" href="class_wo_r_b___test_bed.html" title="Encapsulates a rigid body test&#45;bed application." alt="" coords="7,5,167,507"/></map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for WoRB_MexFunction:</div>
<div class="dyncontent">
<div class="center"><img src="class_wo_r_b___mex_function__coll__graph.png" border="0" usemap="#_wo_r_b___mex_function_coll__map" alt="Collaboration graph"/></div>
<map name="_wo_r_b___mex_function_coll__map" id="_wo_r_b___mex_function_coll__map">
<area shape="rect" id="node2" href="class_wo_r_b___test_bed.html" title="Encapsulates a rigid body test&#45;bed application." alt="" coords="20,5128,180,5629"/><area shape="rect" id="node4" href="class_wo_r_b_1_1_half_space.html" title="Represents a half&#45;space defined by a plane where the normal of the plane points out of the half&#45;space..." alt="" coords="43,4287,168,4372"/><area shape="rect" id="node6" href="class_wo_r_b_1_1_geometry.html" title="Represents a geometry used to detect collisions against." alt="" coords="361,3443,487,3667"/><area shape="rect" id="node18" href="class_wo_r_b_1_1_world_of_rigid_bodies.html" title="{WoRB::WorldOfRigidBodies\&lt; 256, 1024 \&gt;\n|+ Gravity\l+ Time\l+ TimeStepCount\l+ TotalKineticEnergy\l+ TotalPotentialEnergy\l+ TotalLinearMomentum\l+ TotalAngularMomentum\l&#45; ObjectCount\l|+ WorldOfRigidBodies()\l+ RemoveObjects()\l+ Add()\l+ Add()\l+ InitializeODE()\l+ SolveODE()\l}" alt="" coords="200,4768,464,5061"/><area shape="rect" id="node8" href="class_wo_r_b_1_1_rigid_body.html" title="Encapsulates a rigid body." alt="" coords="277,1870,475,3151"/><area shape="rect" id="node21" href="class_wo_r_b_1_1_collision.html" title="Encalpsulates a collision event between two bodies; contains contact details." alt="" coords="511,3235,767,3875"/><area shape="rect" id="node10" href="class_wo_r_b_1_1_quaternion.html" title="Encapsulates Hamilton real quaternions." alt="" coords="105,331,287,1664"/><area shape="rect" id="node12" href="class_wo_r_b_1_1_q_tensor.html" title="Encapsulates a quaternionic tensor (q&#45;tensor) as a 4x4 row&#45;major matrix." alt="" coords="521,391,745,1603"/><area shape="rect" id="node14" href="struct_wo_r_b_1_1_q_tensor_1_1_components.html" title="Represents tensor components in a column&#45;major order." alt="" coords="535,5,732,264"/><area shape="rect" id="node26" href="class_wo_r_b_1_1_collision_resolver.html" title="Encapsulates collision response framework." alt="" coords="392,3957,603,4701"/><area shape="rect" id="node30" href="class_mex_1_1_matrix.html" title="Represents a simple matrix class that keeps components in a column&#45;major order." alt="" coords="204,5232,372,5525"/></map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a313ffa8a6c72c495e8e58c68d5c0de0c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_wo_r_b___mex_function.html#a313ffa8a6c72c495e8e58c68d5c0de0c">WoRB_MexFunction</a> ()</td></tr>
<tr class="memdesc:a313ffa8a6c72c495e8e58c68d5c0de0c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default constructor.  <a href="#a313ffa8a6c72c495e8e58c68d5c0de0c"></a><br/></td></tr>
<tr class="memitem:a4ba3e1563aae6665affadf2f1d02c8bd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_wo_r_b___mex_function.html#a4ba3e1563aae6665affadf2f1d02c8bd">Parse</a> (int nArgIn, const mxArray *argIn[])</td></tr>
<tr class="memdesc:a4ba3e1563aae6665affadf2f1d02c8bd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes parameters and creates bodies from mexFunction arguments.  <a href="#a4ba3e1563aae6665affadf2f1d02c8bd"></a><br/></td></tr>
<tr class="memitem:ac977f589a7929abe7bec2cf285bd3035"><td class="memItemLeft" align="right" valign="top">mxArray *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_wo_r_b___mex_function.html#ac977f589a7929abe7bec2cf285bd3035">GetResult</a> ()</td></tr>
<tr class="memdesc:ac977f589a7929abe7bec2cf285bd3035"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the result matrix.  <a href="#ac977f589a7929abe7bec2cf285bd3035"></a><br/></td></tr>
<tr class="memitem:afbf5725c24de78d6b99466b1e8a18a3a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_wo_r_b___mex_function.html#afbf5725c24de78d6b99466b1e8a18a3a">CreateResultMatrix</a> ()</td></tr>
<tr class="memdesc:afbf5725c24de78d6b99466b1e8a18a3a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates the result matrix.  <a href="#afbf5725c24de78d6b99466b1e8a18a3a"></a><br/></td></tr>
<tr class="memitem:ad3f353547ac909864ff1c9c5930e9ba4"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_wo_r_b___mex_function.html#ad3f353547ac909864ff1c9c5930e9ba4">OnProcessData</a> ()</td></tr>
<tr class="memdesc:ad3f353547ac909864ff1c9c5930e9ba4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Saves simulated data to be returned to MATLAB as the result.  <a href="#ad3f353547ac909864ff1c9c5930e9ba4"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:acb8552fe8a0ec88c26d1d81c068d389c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_mex_1_1_matrix.html">Mex::Matrix</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_wo_r_b___mex_function.html#acb8552fe8a0ec88c26d1d81c068d389c">Result</a></td></tr>
<tr class="memdesc:acb8552fe8a0ec88c26d1d81c068d389c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Holds the results returned to MATLAB.  <a href="#acb8552fe8a0ec88c26d1d81c068d389c"></a><br/></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Represents <a class="el" href="namespace_wo_r_b.html">WoRB</a> test-bed that can be initialized from <code>mexFunction</code> arguments. </p>

<p>Definition at line <a class="el" href="mex_function_8cpp_source.html#l00022">22</a> of file <a class="el" href="mex_function_8cpp_source.html">mexFunction.cpp</a>.</p>
</div><hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a313ffa8a6c72c495e8e58c68d5c0de0c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_wo_r_b___mex_function.html#a313ffa8a6c72c495e8e58c68d5c0de0c">WoRB_MexFunction::WoRB_MexFunction</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Default constructor. </p>
<p>Creates an empty result matrix. </p>

<p>Definition at line <a class="el" href="mex_function_8cpp_source.html#l00032">32</a> of file <a class="el" href="mex_function_8cpp_source.html">mexFunction.cpp</a>.</p>
<div class="fragment"><pre class="fragment">        : <a class="code" href="class_wo_r_b___mex_function.html#acb8552fe8a0ec88c26d1d81c068d389c" title="Holds the results returned to MATLAB.">Result</a>( 0, 0 )
    {
    }
</pre></div>
</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="afbf5725c24de78d6b99466b1e8a18a3a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_wo_r_b___mex_function.html#afbf5725c24de78d6b99466b1e8a18a3a">WoRB_MexFunction::CreateResultMatrix</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Creates the result matrix. </p>

<p>Definition at line <a class="el" href="mex_function_8cpp_source.html#l00245">245</a> of file <a class="el" href="mex_function_8cpp_source.html">mexFunction.cpp</a>.</p>

<p>References <a class="el" href="_wo_r_b___test_bed_8h_source.html#l00035">WoRB_TestBed::FinalTime</a>, <a class="el" href="mex_wo_r_b_8h_source.html#l00200">Mex::Matrix::GetM()</a>, <a class="el" href="mex_wo_r_b_8h_source.html#l00207">Mex::Matrix::GetN()</a>, <a class="el" href="_platform_8cpp_source.html#l00036">WoRB::Printf()</a>, <a class="el" href="mex_function_8cpp_source.html#l00026">Result</a>, and <a class="el" href="_wo_r_b___test_bed_8h_source.html#l00140">WoRB_TestBed::TimeStep</a>.</p>

<p>Referenced by <a class="el" href="mex_function_8cpp_source.html#l00310">mexFunction()</a>.</p>
<div class="fragment"><pre class="fragment">    {
        <span class="comment">// Ensure to have have a finite number of recorded time-steps</span>
        <span class="comment">//</span>
        <span class="keywordflow">if</span> ( <a class="code" href="class_wo_r_b___test_bed.html#a39c848a9e17fe35e044642fae16d9a75" title="Final simulation time, s.">FinalTime</a> == 0 ) {
            <span class="keywordflow">return</span>;  
        }

        <span class="keywordtype">unsigned</span> n_steps = unsigned( <a class="code" href="class_wo_r_b___test_bed.html#a39c848a9e17fe35e044642fae16d9a75" title="Final simulation time, s.">FinalTime</a> / <a class="code" href="class_wo_r_b___test_bed.html#a703862a8d91cf568d70e681dd7b81bc7" title="Holds integrator time-step length, in seconds.">TimeStep</a> ) + 1;
        <a class="code" href="class_wo_r_b___mex_function.html#acb8552fe8a0ec88c26d1d81c068d389c" title="Holds the results returned to MATLAB.">Result</a> = <a class="code" href="class_mex_1_1_matrix.html" title="Represents a simple matrix class that keeps components in a column-major order.">Mex::Matrix</a>( n_steps, 11 );

        <span class="comment">// Set &#39;time&#39; column to NaN (indicating row do not have valid data yet).</span>
        <span class="comment">//</span>
        <span class="keywordflow">for</span> ( <span class="keywordtype">unsigned</span> i = 0; i &lt; n_steps; ++i ) {
            <a class="code" href="class_wo_r_b___mex_function.html#acb8552fe8a0ec88c26d1d81c068d389c" title="Holds the results returned to MATLAB.">Result</a>( i, 0 ) = mxGetNaN ();
        }

        <a class="code" href="namespace_wo_r_b.html#a1daf5df6226659812376d1cd23aa6d89" title="User defined ANSI C printf-style output routine.">WoRB::Printf</a>( <span class="stringliteral">&quot;WoRB: Created matrix for results [ %d × %d ]\n&quot;</span>, 
            <a class="code" href="class_wo_r_b___mex_function.html#acb8552fe8a0ec88c26d1d81c068d389c" title="Holds the results returned to MATLAB.">Result</a>.<a class="code" href="class_mex_1_1_matrix.html#a3fe0394f5e428c5970723b5ebbbc2ad3" title="Gets the number of rows in the matrix.">GetM</a> (), <a class="code" href="class_wo_r_b___mex_function.html#acb8552fe8a0ec88c26d1d81c068d389c" title="Holds the results returned to MATLAB.">Result</a>.<a class="code" href="class_mex_1_1_matrix.html#a5ccb2d244de35965700e8833395411a0" title="Gets the number of columns in the matrix.">GetN</a> () );
    }
</pre></div>
</div>
</div>
<a class="anchor" id="ac977f589a7929abe7bec2cf285bd3035"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">mxArray* <a class="el" href="class_wo_r_b___mex_function.html#ac977f589a7929abe7bec2cf285bd3035">WoRB_MexFunction::GetResult</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Gets the result matrix. </p>

<p>Definition at line <a class="el" href="mex_function_8cpp_source.html#l00238">238</a> of file <a class="el" href="mex_function_8cpp_source.html">mexFunction.cpp</a>.</p>

<p>References <a class="el" href="mex_function_8cpp_source.html#l00026">Result</a>.</p>

<p>Referenced by <a class="el" href="mex_function_8cpp_source.html#l00310">mexFunction()</a>.</p>
<div class="fragment"><pre class="fragment">    {
        <span class="keywordflow">return</span> <a class="code" href="class_wo_r_b___mex_function.html#acb8552fe8a0ec88c26d1d81c068d389c" title="Holds the results returned to MATLAB.">Result</a>;
    }
</pre></div>
</div>
</div>
<a class="anchor" id="ad3f353547ac909864ff1c9c5930e9ba4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void <a class="el" href="class_wo_r_b___mex_function.html#ad3f353547ac909864ff1c9c5930e9ba4">WoRB_MexFunction::OnProcessData</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Saves simulated data to be returned to MATLAB as the result. </p>

<p>Reimplemented from <a class="el" href="class_wo_r_b___test_bed.html#ac996d2fdd1dbc3dcbc4597b766551200">WoRB_TestBed</a>.</p>

<p>Definition at line <a class="el" href="mex_function_8cpp_source.html#l00268">268</a> of file <a class="el" href="mex_function_8cpp_source.html">mexFunction.cpp</a>.</p>

<p>References <a class="el" href="_wo_r_b_8h_source.html#l00150">WoRB::WorldOfRigidBodies&lt; MaxObjects, MaxCollisions &gt;::Collisions</a>, <a class="el" href="_collision_resolver_8h_source.html#l00092">WoRB::CollisionResolver::Count()</a>, <a class="el" href="mex_wo_r_b_8h_source.html#l00130">Mex::Matrix::IsEmpty()</a>, <a class="el" href="_wo_r_b___test_bed_8h_source.html#l00043">WoRB_TestBed::Objects</a>, <a class="el" href="mex_function_8cpp_source.html#l00026">Result</a>, <a class="el" href="_wo_r_b_8h_source.html#l00124">WoRB::WorldOfRigidBodies&lt; MaxObjects, MaxCollisions &gt;::Time</a>, <a class="el" href="_wo_r_b_8h_source.html#l00128">WoRB::WorldOfRigidBodies&lt; MaxObjects, MaxCollisions &gt;::TimeStepCount</a>, <a class="el" href="_wo_r_b_8h_source.html#l00144">WoRB::WorldOfRigidBodies&lt; MaxObjects, MaxCollisions &gt;::TotalAngularMomentum</a>, <a class="el" href="_wo_r_b_8h_source.html#l00132">WoRB::WorldOfRigidBodies&lt; MaxObjects, MaxCollisions &gt;::TotalKineticEnergy</a>, <a class="el" href="_wo_r_b_8h_source.html#l00140">WoRB::WorldOfRigidBodies&lt; MaxObjects, MaxCollisions &gt;::TotalLinearMomentum</a>, <a class="el" href="_wo_r_b_8h_source.html#l00136">WoRB::WorldOfRigidBodies&lt; MaxObjects, MaxCollisions &gt;::TotalPotentialEnergy</a>, <a class="el" href="_wo_r_b___test_bed_8h_source.html#l00031">WoRB_TestBed::worb</a>, <a class="el" href="_quaternion_8h_source.html#l00040">WoRB::Quaternion::x</a>, <a class="el" href="_quaternion_8h_source.html#l00041">WoRB::Quaternion::y</a>, and <a class="el" href="_quaternion_8h_source.html#l00042">WoRB::Quaternion::z</a>.</p>
<div class="fragment"><pre class="fragment">    {
        <span class="keywordflow">if</span> ( <a class="code" href="class_wo_r_b___mex_function.html#acb8552fe8a0ec88c26d1d81c068d389c" title="Holds the results returned to MATLAB.">Result</a>.<a class="code" href="class_mex_1_1_matrix.html#a364cffd623e65efd759b01c2ea4a780e" title="Returns true if the instance is an empty array.">IsEmpty</a> () ) {
            <span class="keywordflow">return</span>;
        }

        <span class="keywordtype">unsigned</span> n = <a class="code" href="class_wo_r_b___test_bed.html#abd60cc8ff8ceb0616631378cbbe428ee" title="Holds the WoRB physics simulation framework.">worb</a>.<a class="code" href="class_wo_r_b_1_1_world_of_rigid_bodies.html#ae7d49659d036152dabadc78bf2866d50" title="Holds the number of integrator time-steps, from the simulation start.">TimeStepCount</a>;

        <a class="code" href="class_wo_r_b___mex_function.html#acb8552fe8a0ec88c26d1d81c068d389c" title="Holds the results returned to MATLAB.">Result</a>( n, 0 ) = <a class="code" href="class_wo_r_b___test_bed.html#abd60cc8ff8ceb0616631378cbbe428ee" title="Holds the WoRB physics simulation framework.">worb</a>.<a class="code" href="class_wo_r_b_1_1_world_of_rigid_bodies.html#a3806dc769b8555c6cfdbf0426270a013" title="Holds the system local time, in s.">Time</a>;
        <a class="code" href="class_wo_r_b___mex_function.html#acb8552fe8a0ec88c26d1d81c068d389c" title="Holds the results returned to MATLAB.">Result</a>( n, 1 ) = <a class="code" href="class_wo_r_b___test_bed.html#abd60cc8ff8ceb0616631378cbbe428ee" title="Holds the WoRB physics simulation framework.">worb</a>.<a class="code" href="class_wo_r_b_1_1_world_of_rigid_bodies.html#a90aa2f8ff07e2a69edc2920085111c10" title="Holds the collision data for all registered collisions.">Collisions</a>.<a class="code" href="class_wo_r_b_1_1_collision_resolver.html#a1ac686dbae0297bc06c8041b55e1e175" title="Gets number of contats in the registry.">Count</a> ();

        <a class="code" href="class_wo_r_b___mex_function.html#acb8552fe8a0ec88c26d1d81c068d389c" title="Holds the results returned to MATLAB.">Result</a>( n, 2 ) = <a class="code" href="class_wo_r_b___test_bed.html#abd60cc8ff8ceb0616631378cbbe428ee" title="Holds the WoRB physics simulation framework.">worb</a>.<a class="code" href="class_wo_r_b_1_1_world_of_rigid_bodies.html#a11edd4ea1f345e57907e68aff44accef" title="Holds the total kinetic energy of the system, in J.">TotalKineticEnergy</a>;
        <a class="code" href="class_wo_r_b___mex_function.html#acb8552fe8a0ec88c26d1d81c068d389c" title="Holds the results returned to MATLAB.">Result</a>( n, 3 ) = <a class="code" href="class_wo_r_b___test_bed.html#abd60cc8ff8ceb0616631378cbbe428ee" title="Holds the WoRB physics simulation framework.">worb</a>.<a class="code" href="class_wo_r_b_1_1_world_of_rigid_bodies.html#ab6c23c6f8fff79da6c204cb6cad3626e" title="Holds the total potential energy of the system, in J.">TotalPotentialEnergy</a>;

        <a class="code" href="class_wo_r_b___mex_function.html#acb8552fe8a0ec88c26d1d81c068d389c" title="Holds the results returned to MATLAB.">Result</a>( n, 4 ) = <a class="code" href="class_wo_r_b___test_bed.html#abd60cc8ff8ceb0616631378cbbe428ee" title="Holds the WoRB physics simulation framework.">worb</a>.<a class="code" href="class_wo_r_b_1_1_world_of_rigid_bodies.html#a5517cffcc733a89b3b9d6ebe7af07036" title="Holds the total linear momentum of the system, in kg m^2 s^-1.">TotalLinearMomentum</a>.<a class="code" href="class_wo_r_b_1_1_quaternion.html#a28802efcda7cc375d5a45d3be1eaefc3" title="Holds i-component of the pure imaginary (vector) part.">x</a>;
        <a class="code" href="class_wo_r_b___mex_function.html#acb8552fe8a0ec88c26d1d81c068d389c" title="Holds the results returned to MATLAB.">Result</a>( n, 5 ) = <a class="code" href="class_wo_r_b___test_bed.html#abd60cc8ff8ceb0616631378cbbe428ee" title="Holds the WoRB physics simulation framework.">worb</a>.<a class="code" href="class_wo_r_b_1_1_world_of_rigid_bodies.html#a5517cffcc733a89b3b9d6ebe7af07036" title="Holds the total linear momentum of the system, in kg m^2 s^-1.">TotalLinearMomentum</a>.<a class="code" href="class_wo_r_b_1_1_quaternion.html#a6f8cac6c6ca2425471915fa8a3f4197e" title="Holds j-component of the pure imaginary (vector) part.">y</a>;
        <a class="code" href="class_wo_r_b___mex_function.html#acb8552fe8a0ec88c26d1d81c068d389c" title="Holds the results returned to MATLAB.">Result</a>( n, 6 ) = <a class="code" href="class_wo_r_b___test_bed.html#abd60cc8ff8ceb0616631378cbbe428ee" title="Holds the WoRB physics simulation framework.">worb</a>.<a class="code" href="class_wo_r_b_1_1_world_of_rigid_bodies.html#a5517cffcc733a89b3b9d6ebe7af07036" title="Holds the total linear momentum of the system, in kg m^2 s^-1.">TotalLinearMomentum</a>.<a class="code" href="class_wo_r_b_1_1_quaternion.html#ac8db915c9c1fd87c962bc540731011f4" title="Holds k-component of the pure imaginary (vector) part.">z</a>;

        <a class="code" href="class_wo_r_b___mex_function.html#acb8552fe8a0ec88c26d1d81c068d389c" title="Holds the results returned to MATLAB.">Result</a>( n, 7 ) = <a class="code" href="class_wo_r_b___test_bed.html#abd60cc8ff8ceb0616631378cbbe428ee" title="Holds the WoRB physics simulation framework.">worb</a>.<a class="code" href="class_wo_r_b_1_1_world_of_rigid_bodies.html#ae621af15bf05315aadffe32c6041c516" title="Holds the total angular momentum of the system, in kg m^2 s^-1.">TotalAngularMomentum</a>.<a class="code" href="class_wo_r_b_1_1_quaternion.html#a28802efcda7cc375d5a45d3be1eaefc3" title="Holds i-component of the pure imaginary (vector) part.">x</a>;
        <a class="code" href="class_wo_r_b___mex_function.html#acb8552fe8a0ec88c26d1d81c068d389c" title="Holds the results returned to MATLAB.">Result</a>( n, 8 ) = <a class="code" href="class_wo_r_b___test_bed.html#abd60cc8ff8ceb0616631378cbbe428ee" title="Holds the WoRB physics simulation framework.">worb</a>.<a class="code" href="class_wo_r_b_1_1_world_of_rigid_bodies.html#ae621af15bf05315aadffe32c6041c516" title="Holds the total angular momentum of the system, in kg m^2 s^-1.">TotalAngularMomentum</a>.<a class="code" href="class_wo_r_b_1_1_quaternion.html#a6f8cac6c6ca2425471915fa8a3f4197e" title="Holds j-component of the pure imaginary (vector) part.">y</a>;
        <a class="code" href="class_wo_r_b___mex_function.html#acb8552fe8a0ec88c26d1d81c068d389c" title="Holds the results returned to MATLAB.">Result</a>( n, 9 ) = <a class="code" href="class_wo_r_b___test_bed.html#abd60cc8ff8ceb0616631378cbbe428ee" title="Holds the WoRB physics simulation framework.">worb</a>.<a class="code" href="class_wo_r_b_1_1_world_of_rigid_bodies.html#ae621af15bf05315aadffe32c6041c516" title="Holds the total angular momentum of the system, in kg m^2 s^-1.">TotalAngularMomentum</a>.<a class="code" href="class_wo_r_b_1_1_quaternion.html#ac8db915c9c1fd87c962bc540731011f4" title="Holds k-component of the pure imaginary (vector) part.">z</a>;

        <a class="code" href="class_wo_r_b___mex_function.html#acb8552fe8a0ec88c26d1d81c068d389c" title="Holds the results returned to MATLAB.">Result</a>( n, 10 ) = <a class="code" href="class_wo_r_b___test_bed.html#a6b8c3da2a2ee7c28d0bfe3fecdff9938" title="Holds the collection of all rendered rigid bodies in the system.">Objects</a>.size () == 0 ? 0.0
            : <a class="code" href="class_wo_r_b___test_bed.html#a6b8c3da2a2ee7c28d0bfe3fecdff9938" title="Holds the collection of all rendered rigid bodies in the system.">Objects</a>.at( <a class="code" href="class_wo_r_b___test_bed.html#a6b8c3da2a2ee7c28d0bfe3fecdff9938" title="Holds the collection of all rendered rigid bodies in the system.">Objects</a>.size() - 1 )-&gt;GetBody().Position.y;
    }
</pre></div>
</div>
</div>
<a class="anchor" id="a4ba3e1563aae6665affadf2f1d02c8bd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_wo_r_b___mex_function.html#a4ba3e1563aae6665affadf2f1d02c8bd">WoRB_MexFunction::Parse</a> </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nArgIn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const mxArray *&#160;</td>
          <td class="paramname"><em>argIn</em>[]&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Initializes parameters and creates bodies from mexFunction arguments. </p>
<p>The first mex function argument should be a structure with fields as sys params. The second mex function argument should be a structure array with body parameters. </p>

<p>Definition at line <a class="el" href="mex_function_8cpp_source.html#l00041">41</a> of file <a class="el" href="mex_function_8cpp_source.html">mexFunction.cpp</a>.</p>

<p>References <a class="el" href="_utilities_8h_source.html#l00160">WoRB::GLUT_Renderer::ActiveColor</a>, <a class="el" href="_wo_r_b_8h_source.html#l00176">WoRB::WorldOfRigidBodies&lt; MaxObjects, MaxCollisions &gt;::Add()</a>, <a class="el" href="_wo_r_b___test_bed_8h_source.html#l00104">WoRB_TestBed::AutoPause</a>, <a class="el" href="_wo_r_b___test_bed_8h_source.html#l00160">WoRB_TestBed::CameraAngle</a>, <a class="el" href="_wo_r_b___test_bed_8h_source.html#l00164">WoRB_TestBed::CameraElevation</a>, <a class="el" href="_wo_r_b___test_bed_8h_source.html#l00156">WoRB_TestBed::CameraLookAt</a>, <a class="el" href="_wo_r_b___test_bed_8h_source.html#l00152">WoRB_TestBed::CameraZoom</a>, <a class="el" href="_wo_r_b___test_bed_8cpp_source.html#l00760">WoRB_TestBed::ClearTestBed()</a>, <a class="el" href="_wo_r_b_8h_source.html#l00150">WoRB::WorldOfRigidBodies&lt; MaxObjects, MaxCollisions &gt;::Collisions</a>, <a class="el" href="_rigid_body_8h_source.html#l00356">WoRB::RigidBody::Deactivate()</a>, <a class="el" href="_wo_r_b___test_bed_8cpp_source.html#l00103">WoRB_TestBed::Dump()</a>, <a class="el" href="_wo_r_b___test_bed_8h_source.html#l00035">WoRB_TestBed::FinalTime</a>, <a class="el" href="_wo_r_b___test_bed_8h_source.html#l00136">WoRB_TestBed::FollowObject</a>, <a class="el" href="_collision_resolver_8h_source.html#l00068">WoRB::CollisionResolver::Friction</a>, <a class="el" href="class_wo_r_b_1_1_g_l_u_t___renderer.html#ace5b8a44158af99f4de597e7dc1da215">WoRB::GLUT_Renderer::GetBody()</a>, <a class="el" href="class_wo_r_b_1_1_g_l_u_t___renderer.html#a407e9eebefcf53fc944536a8cf808afa">WoRB::GLUT_Renderer::GetGeometry()</a>, <a class="el" href="_wo_r_b_8h_source.html#l00118">WoRB::WorldOfRigidBodies&lt; MaxObjects, MaxCollisions &gt;::Gravity</a>, <a class="el" href="_wo_r_b___test_bed_8h_source.html#l00055">WoRB_TestBed::GridTickLength</a>, <a class="el" href="_wo_r_b___test_bed_8h_source.html#l00059">WoRB_TestBed::GridTicks</a>, <a class="el" href="_utilities_8h_source.html#l00164">WoRB::GLUT_Renderer::InactiveColor</a>, <a class="el" href="_wo_r_b___test_bed_8cpp_source.html#l00064">WoRB_TestBed::Initialize()</a>, <a class="el" href="_wo_r_b_8h_source.html#l00192">WoRB::WorldOfRigidBodies&lt; MaxObjects, MaxCollisions &gt;::InitializeODE()</a>, <a class="el" href="_wo_r_b___test_bed_8h_source.html#l00084">WoRB_TestBed::IsInitialized</a>, <a class="el" href="_wo_r_b___test_bed_8h_source.html#l00100">WoRB_TestBed::IsPaused</a>, <a class="el" href="_wo_r_b___test_bed_8h_source.html#l00096">WoRB_TestBed::IsRunning</a>, <a class="el" href="mex_wo_r_b_8h_source.html#l00172">Mex::Matrix::IsSize()</a>, <a class="el" href="_wo_r_b___test_bed_8h_source.html#l00043">WoRB_TestBed::Objects</a>, <a class="el" href="_platform_8cpp_source.html#l00036">WoRB::Printf()</a>, <a class="el" href="_collision_resolver_8h_source.html#l00064">WoRB::CollisionResolver::Relaxation</a>, <a class="el" href="_collision_resolver_8h_source.html#l00060">WoRB::CollisionResolver::Restitution</a>, <a class="el" href="mex_function_8cpp_source.html#l00026">Result</a>, <a class="el" href="_rigid_body_8h_source.html#l00371">WoRB::RigidBody::SetCanBeDeactivated()</a>, <a class="el" href="_platform_8cpp_source.html#l00089">WoRB::SevereError()</a>, <a class="el" href="_wo_r_b___test_bed_8h_source.html#l00112">WoRB_TestBed::ShowBodyAxes</a>, <a class="el" href="_wo_r_b___test_bed_8h_source.html#l00120">WoRB_TestBed::ShowContacts</a>, <a class="el" href="_wo_r_b___test_bed_8h_source.html#l00116">WoRB_TestBed::ShowFloorMirror</a>, <a class="el" href="_wo_r_b___test_bed_8h_source.html#l00132">WoRB_TestBed::ShowHelp</a>, <a class="el" href="_wo_r_b___test_bed_8h_source.html#l00128">WoRB_TestBed::ShowStateVariables</a>, <a class="el" href="_wo_r_b___test_bed_8h_source.html#l00124">WoRB_TestBed::ShowTrajectories</a>, <a class="el" href="_utilities_8h_source.html#l00156">WoRB::GLUT_Renderer::ShowTrajectory</a>, <a class="el" href="_wo_r_b___test_bed_8h_source.html#l00176">WoRB_TestBed::TestSuite</a>, <a class="el" href="_wo_r_b___test_bed_8h_source.html#l00140">WoRB_TestBed::TimeStep</a>, <a class="el" href="_wo_r_b___test_bed_8h_source.html#l00144">WoRB_TestBed::TimeStepsPerFrame</a>, <a class="el" href="_wo_r_b___test_bed_8h_source.html#l00148">WoRB_TestBed::TimeStepsPerSnapshot</a>, <a class="el" href="mex_wo_r_b_8h_source.html#l00222">Mex::Matrix::VerifyDims()</a>, <a class="el" href="_wo_r_b___test_bed_8h_source.html#l00088">WoRB_TestBed::WindowTitle</a>, <a class="el" href="_wo_r_b___test_bed_8h_source.html#l00108">WoRB_TestBed::Wireframe</a>, and <a class="el" href="_wo_r_b___test_bed_8h_source.html#l00031">WoRB_TestBed::worb</a>.</p>

<p>Referenced by <a class="el" href="mex_function_8cpp_source.html#l00310">mexFunction()</a>.</p>
<div class="fragment"><pre class="fragment">    {
        <span class="keywordflow">if</span> ( nArgIn &gt;= 1 &amp;&amp; ! mxIsStruct( argIn[0] ) ) {
            <a class="code" href="namespace_wo_r_b.html#ae24d7cce239971d803de67e67289cc5d" title="Reports a severe error (with errorId compatible with MATLAB) and quits.">WoRB::SevereError</a>( <span class="stringliteral">&quot;WoRB:Init:invarg&quot;</span>,
                <span class="stringliteral">&quot;The first argument must be a structure with system parameters.&quot;</span> );
        }

        <span class="keywordflow">if</span> ( nArgIn &gt;= 2 &amp;&amp; ! mxIsStruct( argIn[1] ) ) {
            <a class="code" href="namespace_wo_r_b.html#ae24d7cce239971d803de67e67289cc5d" title="Reports a severe error (with errorId compatible with MATLAB) and quits.">WoRB::SevereError</a>( <span class="stringliteral">&quot;WoRB:Init:invarg&quot;</span>, 
                <span class="stringliteral">&quot;The second argument must be a structure array of body parameters.&quot;</span> );
        }
<span class="comment"></span>
<span class="comment">        /////////////////////////////////////////////////////////////////////////////////</span>
<span class="comment"></span>        <span class="comment">// Clear objects from previous simulations and make default parameters.</span>
        <span class="comment">//</span>
            
        <a class="code" href="class_wo_r_b___mex_function.html#acb8552fe8a0ec88c26d1d81c068d389c" title="Holds the results returned to MATLAB.">Result</a> = <a class="code" href="class_mex_1_1_matrix.html" title="Represents a simple matrix class that keeps components in a column-major order.">Mex::Matrix</a>( 0, 0 );  <span class="comment">// Clear earlier results</span>
        <a class="code" href="class_wo_r_b___test_bed.html#a2a562a62e7657521c2554bd02033d2d2" title="Delayed constructor; after all static members are initialized.">Initialize</a> ();                 <span class="comment">// Initialize default parameters</span>
        <a class="code" href="class_wo_r_b___test_bed.html#a51218f0aadee04d6a339fb018fdede72" title="Clears the current simulation data and prepares a new simulation.">ClearTestBed</a> ();               <span class="comment">// Clear existing simulation, if any.</span>
<span class="comment"></span>
<span class="comment">        /////////////////////////////////////////////////////////////////////////////////</span>
<span class="comment"></span>        <span class="comment">// Parse params structure</span>
        <span class="comment">//</span>
        <span class="keywordtype">bool</span> dumpInitialState = <span class="keyword">false</span>;

        <span class="keywordflow">if</span> ( nArgIn &gt;= 1 )  
        {
            <span class="keyword">const</span> mxArray* params = argIn[0];

            <a class="code" href="class_wo_r_b___test_bed.html#a505c1d7c9b44fed7809ec9c5a295e22f" title="Holds window title.">WindowTitle</a> = <a class="code" href="class_mex_1_1_string.html" title="Represents a MATLAB character string value.">Mex::String</a>( params, 0, <span class="stringliteral">&quot;Title&quot;</span> );

            <a class="code" href="class_wo_r_b___test_bed.html#a16ff3c1401f82d717e029094061e4d47" title="Holds next requested configuration profile.">TestSuite</a>            = <a class="code" href="class_mex_1_1_logical.html" title="Represents a MATLAB logical value.">Mex::Logical</a>( params, 0, <span class="stringliteral">&quot;TestSuite&quot;</span>          );
            <a class="code" href="class_wo_r_b___test_bed.html#a7f2504768e73ee3b720ff598baeda4a2" title="Indicates whether the instance is properly constructed.">IsInitialized</a>        = <a class="code" href="class_mex_1_1_logical.html" title="Represents a MATLAB logical value.">Mex::Logical</a>( params, 0, <span class="stringliteral">&quot;IsInitialized&quot;</span>      );
            <a class="code" href="class_wo_r_b___test_bed.html#ae3d27d275824b2ed12ea0407b186beb5" title="Indicates whether the application is running.">IsRunning</a>            = <a class="code" href="class_mex_1_1_logical.html" title="Represents a MATLAB logical value.">Mex::Logical</a>( params, 0, <span class="stringliteral">&quot;IsRunning&quot;</span>          );
            <a class="code" href="class_wo_r_b___test_bed.html#a3c8766c52e60357dc97d55a52381f1f8" title="Indicates whether the simulation is running (alternative to being paused).">IsPaused</a>             = <a class="code" href="class_mex_1_1_logical.html" title="Represents a MATLAB logical value.">Mex::Logical</a>( params, 0, <span class="stringliteral">&quot;IsPaused&quot;</span>           );
            <a class="code" href="class_wo_r_b___test_bed.html#a5bd98b1c461393d9cf1439b56e009898" title="Indicates whether the simulation halts after every time-step.">AutoPause</a>            = <a class="code" href="class_mex_1_1_logical.html" title="Represents a MATLAB logical value.">Mex::Logical</a>( params, 0, <span class="stringliteral">&quot;AutoPause&quot;</span>          );
            <a class="code" href="class_wo_r_b___test_bed.html#a5a857faef83e4baba5a251007117faf0" title="Indicates whether to display objects in wireframe.">Wireframe</a>            = <a class="code" href="class_mex_1_1_logical.html" title="Represents a MATLAB logical value.">Mex::Logical</a>( params, 0, <span class="stringliteral">&quot;Wireframe&quot;</span>          );
            <a class="code" href="class_wo_r_b___test_bed.html#a381f695149fddca2f6e6dbc8887f1c86" title="Indicates whether to display axes of the rigid bodies.">ShowBodyAxes</a>         = <a class="code" href="class_mex_1_1_logical.html" title="Represents a MATLAB logical value.">Mex::Logical</a>( params, 0, <span class="stringliteral">&quot;ShowBodyAxes&quot;</span>       );
            <a class="code" href="class_wo_r_b___test_bed.html#a07c6bd9eb2e7b1ab608cffa51ab570fb" title="Indicates whether to show objects mirrored in the floor.">ShowFloorMirror</a>      = <a class="code" href="class_mex_1_1_logical.html" title="Represents a MATLAB logical value.">Mex::Logical</a>( params, 0, <span class="stringliteral">&quot;ShowFloorMirror&quot;</span>    );
            <a class="code" href="class_wo_r_b___test_bed.html#acf037fae1f9fdb1cd7d4f4cd49097e12" title="Indicates whether to display contact normals.">ShowContacts</a>         = <a class="code" href="class_mex_1_1_logical.html" title="Represents a MATLAB logical value.">Mex::Logical</a>( params, 0, <span class="stringliteral">&quot;ShowContacts&quot;</span>       );
            <a class="code" href="class_wo_r_b___test_bed.html#a3fb6b7937faf6a93f2402396ca0b7967" title="Indicates whether to display trajectories.">ShowTrajectories</a>     = <a class="code" href="class_mex_1_1_logical.html" title="Represents a MATLAB logical value.">Mex::Logical</a>( params, 0, <span class="stringliteral">&quot;ShowTrajectories&quot;</span>   );
            <a class="code" href="class_wo_r_b___test_bed.html#a7d7e91831187edcb2b646645a06b72d1" title="Indicates whether to display the system state variables.">ShowStateVariables</a>   = <a class="code" href="class_mex_1_1_logical.html" title="Represents a MATLAB logical value.">Mex::Logical</a>( params, 0, <span class="stringliteral">&quot;ShowStateVariables&quot;</span> );
            <a class="code" href="class_wo_r_b___test_bed.html#aa0d86c609061827f3e339d7ef52a6d71" title="Indicates whether to display help info.">ShowHelp</a>             = <a class="code" href="class_mex_1_1_logical.html" title="Represents a MATLAB logical value.">Mex::Logical</a>( params, 0, <span class="stringliteral">&quot;ShowHelp&quot;</span>           );
            dumpInitialState     = <a class="code" href="class_mex_1_1_logical.html" title="Represents a MATLAB logical value.">Mex::Logical</a>( params, 0, <span class="stringliteral">&quot;DumpInitialState&quot;</span>   );

            <a class="code" href="class_wo_r_b___test_bed.html#a05e533b816e65b753a55c01295b1d4cd" title="Holds the length of a single tick in the system grid.">GridTickLength</a> = <a class="code" href="class_mex_1_1_scalar.html" title="Represents a MATLAB scalar double value.">Mex::Scalar</a>( params, 0, <span class="stringliteral">&quot;GridTickLength&quot;</span> );
            <a class="code" href="class_wo_r_b___test_bed.html#a23e4af3f41177750a6a62bb80e1f36b7" title="Holds the number of the ticks in the system grid (bounded by the walls).">GridTicks</a>      = int( <a class="code" href="class_mex_1_1_scalar.html" title="Represents a MATLAB scalar double value.">Mex::Scalar</a>( params, 0, <span class="stringliteral">&quot;GridTicks&quot;</span> ) );

            <a class="code" href="class_wo_r_b___test_bed.html#a703862a8d91cf568d70e681dd7b81bc7" title="Holds integrator time-step length, in seconds.">TimeStep</a>             = <a class="code" href="class_mex_1_1_scalar.html" title="Represents a MATLAB scalar double value.">Mex::Scalar</a>( params, 0, <span class="stringliteral">&quot;TimeStep&quot;</span> );
            <a class="code" href="class_wo_r_b___test_bed.html#a399393efac17bc34629567082dfeece4" title="Holds number of integrator time-steps solved per one video frame.">TimeStepsPerFrame</a>    = unsigned( <a class="code" href="class_mex_1_1_scalar.html" title="Represents a MATLAB scalar double value.">Mex::Scalar</a>( params, 0, <span class="stringliteral">&quot;TimeStepsPerFrame&quot;</span> ) );
            <a class="code" href="class_wo_r_b___test_bed.html#ade096d6b734db4316d56c06b773c7af4" title="Holds number of integrator time-steps solved per one trajectory snapshot.">TimeStepsPerSnapshot</a> = unsigned( <a class="code" href="class_mex_1_1_scalar.html" title="Represents a MATLAB scalar double value.">Mex::Scalar</a>( params, 0, <span class="stringliteral">&quot;TimeStepsPerSnapshot&quot;</span> ) );

            <a class="code" href="class_wo_r_b___test_bed.html#aeae28e807695b7b010cf1bf01e84b98f" title="Holds the camera angle (phi).">CameraAngle</a>      = <a class="code" href="class_mex_1_1_scalar.html" title="Represents a MATLAB scalar double value.">Mex::Scalar</a>( params, 0, <span class="stringliteral">&quot;CameraAngle&quot;</span>     );
            <a class="code" href="class_wo_r_b___test_bed.html#af4a63b243a5cc501bf29b2978abffed8" title="Holds the camera elevation (theta).">CameraElevation</a>  = <a class="code" href="class_mex_1_1_scalar.html" title="Represents a MATLAB scalar double value.">Mex::Scalar</a>( params, 0, <span class="stringliteral">&quot;CameraElevation&quot;</span> );
            <a class="code" href="class_wo_r_b___test_bed.html#a3450f64d3f032c3e5be7298ac839daeb" title="Holds the camera zoom (distance from the look-at point).">CameraZoom</a>       = <a class="code" href="class_mex_1_1_scalar.html" title="Represents a MATLAB scalar double value.">Mex::Scalar</a>( params, 0, <span class="stringliteral">&quot;CameraZoom&quot;</span>      );

            <a class="code" href="class_mex_1_1_matrix.html" title="Represents a simple matrix class that keeps components in a column-major order.">Mex::Matrix</a> lookAt( params, 0, <span class="stringliteral">&quot;CameraLookAt&quot;</span> );
            lookAt.VerifyDims( 1, 3, <span class="stringliteral">&quot;CameraLookAt must be a spatial vector&quot;</span> );
            <a class="code" href="class_wo_r_b___test_bed.html#a3c680abadf1bf5c5fa02db0229b598c1" title="Holds the point camera looks at.">CameraLookAt</a> = <a class="code" href="class_wo_r_b_1_1_spatial_vector.html" title="Encapsulates a spatial vector.">WoRB::SpatialVector</a>( lookAt(0), lookAt(1), lookAt(2) );

            <a class="code" href="class_wo_r_b___test_bed.html#a04a347063c04ae2189613e4c2c598c06" title="Holds the index of an object that is followed by the camera view.">FollowObject</a> = unsigned( <a class="code" href="class_mex_1_1_scalar.html" title="Represents a MATLAB scalar double value.">Mex::Scalar</a>( params, 0, <span class="stringliteral">&quot;FollowObject&quot;</span> ) );
            <a class="code" href="class_wo_r_b___test_bed.html#a39c848a9e17fe35e044642fae16d9a75" title="Final simulation time, s.">FinalTime</a>    = <a class="code" href="class_mex_1_1_scalar.html" title="Represents a MATLAB scalar double value.">Mex::Scalar</a>( params, 0, <span class="stringliteral">&quot;FinalTime&quot;</span> );

            <a class="code" href="class_wo_r_b___test_bed.html#abd60cc8ff8ceb0616631378cbbe428ee" title="Holds the WoRB physics simulation framework.">worb</a>.<a class="code" href="class_wo_r_b_1_1_world_of_rigid_bodies.html#a90aa2f8ff07e2a69edc2920085111c10" title="Holds the collision data for all registered collisions.">Collisions</a>.<a class="code" href="class_wo_r_b_1_1_collision_resolver.html#aedb0cf7218f37aea60729e49d849d104" title="Holds the restitution coefficient common for all collisions.">Restitution</a> = <a class="code" href="class_mex_1_1_scalar.html" title="Represents a MATLAB scalar double value.">Mex::Scalar</a>( params, 0, <span class="stringliteral">&quot;Restitution&quot;</span> );
            <a class="code" href="class_wo_r_b___test_bed.html#abd60cc8ff8ceb0616631378cbbe428ee" title="Holds the WoRB physics simulation framework.">worb</a>.<a class="code" href="class_wo_r_b_1_1_world_of_rigid_bodies.html#a90aa2f8ff07e2a69edc2920085111c10" title="Holds the collision data for all registered collisions.">Collisions</a>.<a class="code" href="class_wo_r_b_1_1_collision_resolver.html#a60af051a934963ec40318771532f544a" title="Holds the position projections coefficient common for all collisions.">Relaxation</a>  = <a class="code" href="class_mex_1_1_scalar.html" title="Represents a MATLAB scalar double value.">Mex::Scalar</a>( params, 0, <span class="stringliteral">&quot;Relaxation&quot;</span>  );
            <a class="code" href="class_wo_r_b___test_bed.html#abd60cc8ff8ceb0616631378cbbe428ee" title="Holds the WoRB physics simulation framework.">worb</a>.<a class="code" href="class_wo_r_b_1_1_world_of_rigid_bodies.html#a90aa2f8ff07e2a69edc2920085111c10" title="Holds the collision data for all registered collisions.">Collisions</a>.<a class="code" href="class_wo_r_b_1_1_collision_resolver.html#a36e36fd2a04401689635e322ee40d1e0" title="Holds the friction coefficient common for all collisions.">Friction</a>    = <a class="code" href="class_mex_1_1_scalar.html" title="Represents a MATLAB scalar double value.">Mex::Scalar</a>( params, 0, <span class="stringliteral">&quot;Friction&quot;</span>    );

            <a class="code" href="class_mex_1_1_matrix.html" title="Represents a simple matrix class that keeps components in a column-major order.">Mex::Matrix</a> G( params, 0, <span class="stringliteral">&quot;Gravity&quot;</span> );
            G.VerifyDims( 1, 3, <span class="stringliteral">&quot;Gravity must be a spatial vector&quot;</span> );
            <a class="code" href="class_wo_r_b___test_bed.html#abd60cc8ff8ceb0616631378cbbe428ee" title="Holds the WoRB physics simulation framework.">worb</a>.<a class="code" href="class_wo_r_b_1_1_world_of_rigid_bodies.html#a37789094e753f003517b0e4b6b423bd9" title="Holds common gravity applied to all objects (set to 0 to disable).">Gravity</a> = <a class="code" href="class_wo_r_b_1_1_spatial_vector.html" title="Encapsulates a spatial vector.">WoRB::SpatialVector</a>( G(0), G(1), G(2) );
        }
<span class="comment"></span>
<span class="comment">        /////////////////////////////////////////////////////////////////////////////////</span>
<span class="comment"></span>        <span class="comment">// Parse bodies array structure</span>
        <span class="comment">//</span>
        <span class="keywordflow">if</span> ( nArgIn &gt;= 2 )
        {
            <span class="keyword">const</span> mxArray* body = argIn[1];
            <span class="keywordtype">unsigned</span> bodyCount = unsigned( mxGetNumberOfElements( body ) );

            <span class="keywordflow">for</span> ( <span class="keywordtype">unsigned</span> i = 0; i &lt; bodyCount; ++i )
            {
                <a class="code" href="class_mex_1_1_string.html" title="Represents a MATLAB character string value.">Mex::String</a> geometry( body, i, <span class="stringliteral">&quot;Geometry&quot;</span> ); <span class="comment">// Geometry class</span>
                <a class="code" href="class_mex_1_1_matrix.html" title="Represents a simple matrix class that keeps components in a column-major order.">Mex::Matrix</a> R( body, i, <span class="stringliteral">&quot;HalfExtent&quot;</span> ); <span class="comment">// Radius or half-extent</span>
                <a class="code" href="class_mex_1_1_matrix.html" title="Represents a simple matrix class that keeps components in a column-major order.">Mex::Matrix</a> M( body, i, <span class="stringliteral">&quot;M&quot;</span> ); <span class="comment">// Body mass</span>
                <a class="code" href="class_mex_1_1_matrix.html" title="Represents a simple matrix class that keeps components in a column-major order.">Mex::Matrix</a> X( body, i, <span class="stringliteral">&quot;X&quot;</span> ); <span class="comment">// Position</span>
                <a class="code" href="class_mex_1_1_matrix.html" title="Represents a simple matrix class that keeps components in a column-major order.">Mex::Matrix</a> Q( body, i, <span class="stringliteral">&quot;Q&quot;</span> ); <span class="comment">// Oritentation</span>
                <a class="code" href="class_mex_1_1_matrix.html" title="Represents a simple matrix class that keeps components in a column-major order.">Mex::Matrix</a> V( body, i, <span class="stringliteral">&quot;V&quot;</span> ); <span class="comment">// Velocity</span>
                <a class="code" href="class_mex_1_1_matrix.html" title="Represents a simple matrix class that keeps components in a column-major order.">Mex::Matrix</a> W( body, i, <span class="stringliteral">&quot;W&quot;</span> ); <span class="comment">// Angular velocity</span>

                <a class="code" href="class_mex_1_1_logical.html" title="Represents a MATLAB logical value.">Mex::Logical</a> showTrajectory   ( body, i, <span class="stringliteral">&quot;ShowTrajectory&quot;</span>,   <span class="keyword">true</span>  );
                <a class="code" href="class_mex_1_1_logical.html" title="Represents a MATLAB logical value.">Mex::Logical</a> isActive         ( body, i, <span class="stringliteral">&quot;CanBeDeactivated&quot;</span>, <span class="keyword">true</span>  );
                <a class="code" href="class_mex_1_1_logical.html" title="Represents a MATLAB logical value.">Mex::Logical</a> canBeDeactivated ( body, i, <span class="stringliteral">&quot;CanBeDeactivated&quot;</span>, <span class="keyword">false</span> );

                <a class="code" href="class_mex_1_1_matrix.html" title="Represents a simple matrix class that keeps components in a column-major order.">Mex::Matrix</a> cActive  ( body, i, <span class="stringliteral">&quot;ActiveColor&quot;</span>   ); <span class="comment">// Active color</span>
                <a class="code" href="class_mex_1_1_matrix.html" title="Represents a simple matrix class that keeps components in a column-major order.">Mex::Matrix</a> cInactive( body, i, <span class="stringliteral">&quot;InactiveColor&quot;</span> ); <span class="comment">// Inactive color</span>

                <span class="comment">// Verify dimensions of body parameters</span>
                <span class="comment">//</span>
                M.VerifyDims( 1, 1, <span class="stringliteral">&quot;Mass must be a scalar&quot;</span> );
                X.VerifyDims( 1, 3, <span class="stringliteral">&quot;Position must be a spatial vector&quot;</span> );
                Q.VerifyDims( 1, 4, <span class="stringliteral">&quot;Orientation must be a quaternion&quot;</span> );
                V.VerifyDims( 1, 3, <span class="stringliteral">&quot;Velocity must be a spatial vector&quot;</span> );
                W.VerifyDims( 1, 3, <span class="stringliteral">&quot;Angular velocity must be a spatial vector&quot;</span> );

                <span class="comment">// Create rigid bodies with geometries given by parameters</span>
                <span class="comment">//</span>
                <a class="code" href="class_wo_r_b_1_1_g_l_u_t___renderer.html" title="Interface for a GLUT-rendered rigid body.">WoRB::GLUT_Renderer</a>* obj = NULL;

                <span class="keywordflow">if</span> ( geometry == <span class="stringliteral">&quot;cuboid&quot;</span> )
                {
                    R.VerifyDims( 1, 3,
                        <span class="stringliteral">&quot;Half-extent of a cuboid must be a spatial vector&quot;</span> );

                    obj = <span class="keyword">new</span> <a class="code" href="class_wo_r_b_1_1_box.html" title="Encapsulates a rigid body with geometry of a rectangular parallelepiped.">WoRB::Box</a>(
                        <span class="comment">/* position      */</span> <a class="code" href="class_wo_r_b_1_1_spatial_vector.html" title="Encapsulates a spatial vector.">WoRB::SpatialVector</a>( X(0), X(1), X(2) ), 
                        <span class="comment">/* orientation   */</span> <a class="code" href="class_wo_r_b_1_1_quaternion.html" title="Encapsulates Hamilton real quaternions.">WoRB::Quaternion</a>   ( Q(0), Q(1), Q(2), Q(3) ),
                        <span class="comment">/* velocity      */</span> <a class="code" href="class_wo_r_b_1_1_spatial_vector.html" title="Encapsulates a spatial vector.">WoRB::SpatialVector</a>( V(0), V(1), V(2) ), 
                        <span class="comment">/* ang. velocity */</span> <a class="code" href="class_wo_r_b_1_1_spatial_vector.html" title="Encapsulates a spatial vector.">WoRB::SpatialVector</a>( W(0), W(1), W(2) ),
                        <span class="comment">/* half-extent   */</span> <a class="code" href="class_wo_r_b_1_1_spatial_vector.html" title="Encapsulates a spatial vector.">WoRB::SpatialVector</a>( R(0), R(1), R(2) ), 
                        <span class="comment">/* mass          */</span> M(0)
                    );
                }
                <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( geometry == <span class="stringliteral">&quot;sphere&quot;</span> )
                {
                    R.VerifyDims( 1, 1,
                        <span class="stringliteral">&quot;Half-extent i.e. radius of a sphere must be a scalar&quot;</span> );

                    obj = <span class="keyword">new</span> <a class="code" href="class_wo_r_b_1_1_ball.html" title="Encapsulates a rigid body with geometry of a sphere.">WoRB::Ball</a>(
                        <span class="comment">/* position      */</span> <a class="code" href="class_wo_r_b_1_1_spatial_vector.html" title="Encapsulates a spatial vector.">WoRB::SpatialVector</a>( X(0), X(1), X(2) ), 
                        <span class="comment">/* orientation   */</span> <a class="code" href="class_wo_r_b_1_1_quaternion.html" title="Encapsulates Hamilton real quaternions.">WoRB::Quaternion</a>   ( Q(0), Q(1), Q(2), Q(3) ),
                        <span class="comment">/* velocity      */</span> <a class="code" href="class_wo_r_b_1_1_spatial_vector.html" title="Encapsulates a spatial vector.">WoRB::SpatialVector</a>( V(0), V(1), V(2) ), 
                        <span class="comment">/* ang. velocity */</span> <a class="code" href="class_wo_r_b_1_1_spatial_vector.html" title="Encapsulates a spatial vector.">WoRB::SpatialVector</a>( W(0), W(1), W(2) ),
                        <span class="comment">/* radius        */</span> R(0), 
                        <span class="comment">/* mass          */</span> M(0)
                    );
                }
                <span class="keywordflow">else</span> {
                    <a class="code" href="namespace_wo_r_b.html#ae24d7cce239971d803de67e67289cc5d" title="Reports a severe error (with errorId compatible with MATLAB) and quits.">WoRB::SevereError</a>( <span class="stringliteral">&quot;WoRB:Init:invarg&quot;</span>, 
                        <span class="stringliteral">&quot;Invalid body(%u) type &#39;%s&#39;; &quot;</span>
                        <span class="stringliteral">&quot;allowed types are &#39;cuboid&#39; or &#39;sphere&#39;.&quot;</span>,
                        i, (<span class="keyword">const</span> <span class="keywordtype">char</span>*)geometry );
                }

                <span class="comment">// Optional trajectory flag</span>
                <span class="comment">//</span>
                obj-&gt;<a class="code" href="class_wo_r_b_1_1_g_l_u_t___renderer.html#a2f42fd98e1430231a75d2c5d9529eb2a" title="Indicates whether to track objects trajectory.">ShowTrajectory</a> = showTrajectory;
                obj-&gt;<a class="code" href="class_wo_r_b_1_1_g_l_u_t___renderer.html#ace5b8a44158af99f4de597e7dc1da215" title="Gets underlying rigid body.">GetBody</a>().<a class="code" href="class_wo_r_b_1_1_rigid_body.html#a3bd43e0c1a1b6c676feeb617f63302f0" title="Sets whether the body is ever allowed to be deactivated.">SetCanBeDeactivated</a>( canBeDeactivated );
                <span class="keywordflow">if</span> ( ! isActive ) {
                    obj-&gt;<a class="code" href="class_wo_r_b_1_1_g_l_u_t___renderer.html#ace5b8a44158af99f4de597e7dc1da215" title="Gets underlying rigid body.">GetBody</a>().<a class="code" href="class_wo_r_b_1_1_rigid_body.html#ab4fb04d73398750b7865f64421264146" title="Disallows body to move i.e.">Deactivate</a> ();
                }

                <span class="comment">// Optional active color</span>
                <span class="comment">//</span>
                <span class="keywordflow">if</span> ( cActive.IsSize( 1, 4 ) ) {
                    obj-&gt;<a class="code" href="class_wo_r_b_1_1_g_l_u_t___renderer.html#ab41334b7f0ade9014c9a1f3fcc11df2f" title="Holds the shape color, used when body is active (moving).">ActiveColor</a> = <a class="code" href="struct_wo_r_b_1_1_g_l_u_t___renderer_1_1_colorf.html" title="Represents a color defined red, green, blue and alpha channels.">WoRB::GLUT_Renderer::Colorf</a>( 
                        cActive(0), cActive(1), cActive(2), cActive(3)
                    );
                }

                <span class="comment">// Optional inactive color</span>
                <span class="comment">//</span>
                <span class="keywordflow">if</span> ( cInactive.IsSize( 1, 4 ) ) {
                    obj-&gt;<a class="code" href="class_wo_r_b_1_1_g_l_u_t___renderer.html#a611110a443a3511aa15f1bd7730e7bf0" title="Holds the shape color, used when body is inactive (not-moving).">InactiveColor</a> = <a class="code" href="struct_wo_r_b_1_1_g_l_u_t___renderer_1_1_colorf.html" title="Represents a color defined red, green, blue and alpha channels.">WoRB::GLUT_Renderer::Colorf</a>( 
                        cInactive(0), cInactive(1), cInactive(2), cInactive(3)
                    );
                }

                <span class="comment">// Add objects to the list</span>
                <span class="comment">//</span>
                <a class="code" href="class_wo_r_b___test_bed.html#a6b8c3da2a2ee7c28d0bfe3fecdff9938" title="Holds the collection of all rendered rigid bodies in the system.">Objects</a>.push_back( obj );
                <a class="code" href="class_wo_r_b___test_bed.html#abd60cc8ff8ceb0616631378cbbe428ee" title="Holds the WoRB physics simulation framework.">worb</a>.<a class="code" href="class_wo_r_b_1_1_world_of_rigid_bodies.html#af7a5ef9283a902c536de65d184ed6f93" title="Adds new object to the system.">Add</a>( obj-&gt;<a class="code" href="class_wo_r_b_1_1_g_l_u_t___renderer.html#a407e9eebefcf53fc944536a8cf808afa" title="Gets underlying geometry.">GetGeometry</a> () );
            }

            <span class="comment">// Initialize ODE (calculate derived quantities for recently added objects)</span>
            <span class="comment">//</span>
            <a class="code" href="class_wo_r_b___test_bed.html#abd60cc8ff8ceb0616631378cbbe428ee" title="Holds the WoRB physics simulation framework.">worb</a>.<a class="code" href="class_wo_r_b_1_1_world_of_rigid_bodies.html#a4d534b310ec24b1fa6da06d626fac271" title="Prepares ODE (recalculates derived quantities)">InitializeODE</a> ();

            <span class="comment">// Clear test-suite configuration request since we&#39;ve configured test-bed.</span>
            <span class="comment">//</span>
            <a class="code" href="class_wo_r_b___test_bed.html#a16ff3c1401f82d717e029094061e4d47" title="Holds next requested configuration profile.">TestSuite</a> = -1;
        }
<span class="comment"></span>
<span class="comment">        /////////////////////////////////////////////////////////////////////////////////</span>
<span class="comment"></span>        <span class="comment">// Report parameters and bodies that we have so far.</span>
        <span class="comment">//</span>
        <span class="keywordflow">if</span> ( dumpInitialState )
        {
            <a class="code" href="class_wo_r_b___test_bed.html#a44703080ea5202b1949a0f275729f702" title="Dumps all parameter values using Printf().">Dump</a> (); 
            <a class="code" href="namespace_wo_r_b.html#a1daf5df6226659812376d1cd23aa6d89" title="User defined ANSI C printf-style output routine.">WoRB::Printf</a>( <span class="stringliteral">&quot;\n&quot;</span> );
        }
    }
</pre></div>
</div>
</div>
<hr/><h2>Field Documentation</h2>
<a class="anchor" id="acb8552fe8a0ec88c26d1d81c068d389c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_mex_1_1_matrix.html">Mex::Matrix</a> <a class="el" href="class_wo_r_b___mex_function.html#acb8552fe8a0ec88c26d1d81c068d389c">WoRB_MexFunction::Result</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Holds the results returned to MATLAB. </p>

<p>Definition at line <a class="el" href="mex_function_8cpp_source.html#l00026">26</a> of file <a class="el" href="mex_function_8cpp_source.html">mexFunction.cpp</a>.</p>

<p>Referenced by <a class="el" href="mex_function_8cpp_source.html#l00245">CreateResultMatrix()</a>, <a class="el" href="mex_function_8cpp_source.html#l00238">GetResult()</a>, <a class="el" href="mex_function_8cpp_source.html#l00268">OnProcessData()</a>, and <a class="el" href="mex_function_8cpp_source.html#l00041">Parse()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="mex_function_8cpp_source.html">mexFunction.cpp</a></li>
</ul>
</div><!-- contents -->
</div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="class_wo_r_b___mex_function.html">WoRB_MexFunction</a>      </li>

    <li class="footer">Generated on Sun Feb 24 2013 14:18:27 for World of Rigid Bodies (WoRB) by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.0 </li>
   </ul>
 </div>


</body>
</html>
